

{% extends 'game/base.html' %}
{% load static %}
{% block content %}

<head>
<!-- Test import CSS card uniquement hors template sb admin 2 : TEST VALIDE-->
<link rel="stylesheet" href="{% static 'game/styles.css' %}" />
</head>

<!-- Formulaire -->
<div style="text-align: center">
<p>Entrer le nom d'un compte Twitter afin de lancer son analyse..</p>
<form action="{% url "analyse" %}" method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Analyse" />
</form>

{% if envoi %}
<p>{{ Dict.message }}</p>
<p>Analyse du compte "{{ Dict.compteTwitter.username }}"</p>
</div>


<section class="containerB">

    <section class="col1B">
	
	<!-- Carte Most Popular Tweet -->
<p style="font-weight:bold; text-align:center">Tweet le plus populaire en terme de likes :</p>
<div class="tweet-wrap">
  <div class="tweet-header">
    <img src="{{ Dict.compteTwitter.profile_image_url }}" alt="" class="avator">
    <div class="tweet-header-info">
      {{ Dict.popularTweet_nb_like.compteTwitter.name }}<span> {{ Dict.popularTweet_nb_like.compteTwitter.username }}</span><span>. {{Dict.popularTweet_nb_like.created_at}}
</span>
      <p>{{Dict.popularTweet_nb_like.text}}</p>
      
    </div>
    
  </div>

  <div class="tweet-info-counts">
    
    <div class="comments">
      
      <svg class="feather feather-message-circle sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
      <div class="comment-count">{{ Dict.popularTweet_nb_like.nb_reply }}</div>
    </div>
    
    <div class="retweets">
      <svg class="feather feather-repeat sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg>
      <div class="retweet-count">{{ Dict.popularTweet_nb_like.nb_rt }}</div>
    </div>
    
    <div class="likes">
      <svg class="feather feather-heart sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
      <div class="likes-count">
        {{ Dict.popularTweet_nb_like.nb_like }}
      </div>
    </div>
    
    <div class="message">
      <svg class="feather feather-send sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</div>

	</section>
	
	
	<!-- COLONNE CENTRALE -->
	<!-- Carte Compte Twitter -->
	<section class="col2B">
		<div class="card">
			<a target="_blank" href="{{ Dict.compteTwitter.profile_url }}" >
				<div class="card-image">
    <img src="{{ Dict.compteTwitter.profile_image_url }}" alt="Photo de profil" />
  </div>
  
  <div class="card-body">
    
    <div class="card-date">
      <time>{{ Dict.compteTwitter.created_at }}</time>
    </div>
  
    <div class="card-title">
      <h3>{{ Dict.compteTwitter.username }}</h3>
    </div>
    
    <div class="card-excerpt">
      <p> {{ Dict.compteTwitter.description }}</p>
    </div>
    
  </div>
  </a>
</div>

	</section>







    <section class="col3B">
	
	<!-- Carte Most Popular Tweet RT -->
<p style="font-weight:bold; text-align:center">Tweet le plus populaire en terme de retweet :</p>
<div class="tweet-wrap">
  <div class="tweet-header">
    <img src="{{ Dict.compteTwitter.profile_image_url }}" alt="" class="avator">
    <div class="tweet-header-info">
      {{ Dict.popularTweet_nb_rt.compteTwitter.name }}<span> {{ Dict.popularTweet_nb_rt.compteTwitter.username }}</span><span>. {{Dict.popularTweet_nb_rt.created_at}}
</span>
      <p>{{Dict.popularTweet_nb_rt.text}}</p>
      
    </div>
    
  </div>

  <div class="tweet-info-counts">
    
    <div class="comments">
      
      <svg class="feather feather-message-circle sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
      <div class="comment-count">{{ Dict.popularTweet_nb_rt.nb_reply }}</div>
    </div>
    
    <div class="retweets">
      <svg class="feather feather-repeat sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg>
      <div class="retweet-count">{{ Dict.popularTweet_nb_rt.nb_rt }}</div>
    </div>
    
    <div class="likes">
      <svg class="feather feather-heart sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
      <div class="likes-count">
        {{ Dict.popularTweet_nb_rt.nb_like }}
      </div>
    </div>
    
    <div class="message">
      <svg class="feather feather-send sc-dnqmqq jxshSx" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</div>

	</section>
	</section>















<!-- Tableau DataTables -->
<div class="tableau" >
<table id="table_id" class="display">
    <thead>
        <tr>
            <th>Text</th>
			<th>Created_at</th>
			<th>Likes</th>
			<th>RT</th>
			<th>Comments</th>
        </tr>
    </thead>
    <tbody>
	{% for t in Dict.liste_tweets %}
        <tr>
            <td>{{ t.text }}</td>
            <td>{{ t.created_at }}</td>
			<td>{{ t.nb_like }}</td>
            <td>{{ t.nb_rt }}</td>
			<td>{{ t.nb_quote }}</td>

        </tr>
	 {% endfor %}
    </tbody>
</table>
</div>



{% endif %}

<script>
$(document).ready( function () {
    $('#table_id').DataTable();
} );
</script>



{% endblock %}
